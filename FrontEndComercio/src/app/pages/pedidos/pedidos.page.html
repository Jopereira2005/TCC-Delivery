<ion-content [fullscreen]="true">
  <app-header></app-header>

  <ion-row class="ion-padding ion-justify-content-center ion-align-items-center">
    <ion-col size="11.9">
      <ion-row class="ion-justify-content-between ion-align-items-center">
        <ion-col size="6" sizeMd="auto">
          <ion-label id="titulo">Pedidos</ion-label>
        </ion-col>
        <ion-col size="6" sizeMd="auto">
          <ion-select interface="popover" (ionChange)="ordenar($event)" mode="ios" placeholder="Ordenar por">
            <ion-select-option value="status">Status</ion-select-option>
            <ion-select-option value="quantidade">Quantidade</ion-select-option>
            <ion-select-option value="data">Data</ion-select-option>
          </ion-select>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>

  <ion-row class="ion-padding-bottom ion-justify-content-center">
    <ng-container *ngIf="!this.loading">
      <ion-col size="10" sizeMd="9">
        <table>
          <thead>
            <th class="ion-padding">Data</th>
            <th>Hor√°rio</th>
            <th>Status</th>
            <th>Quantidade</th>
          </thead>
          <tr *ngFor="let pedido of pedidos" [routerLink]="['/pedido', pedido.id, pedido.cod_cliente]" routerDirection="back">
            <td class="pedido__data">
              <ion-text class="ion-text-center">
                <p>
                  {{pedido.data_pedido | date:'dd/MM/yyyy'}}
                </p>
              </ion-text>
            </td>
            <td class="pedido__horario">
              <ion-text class="ion-text-center">
                <p>
                  {{pedido.data_pedido | date:'HH:mm'}}
                </p>
              </ion-text>
            </td>
            <td class="pedido__status" >
              <ion-text class="ion-text-center">
                <p>
                  {{pedido.status}}
                </p>
              </ion-text>
            </td>
            <td class="pedido__quantidade">
              <ion-text class="ion-text-center">
                <p>
                  {{pedido.pedido_produtos.length}}
                </p>
              </ion-text>
            </td>
          </tr>
        </table>
      </ion-col>
    </ng-container>
    <app-loading [loading]="this.loading"></app-loading>
  </ion-row>
</ion-content>
