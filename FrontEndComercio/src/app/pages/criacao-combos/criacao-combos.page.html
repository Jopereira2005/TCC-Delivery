<ion-content [fullscreen]="true">
  <app-header></app-header>
  <ion-row class="ion-justify-content-center">
    <ion-col size="12" sizeMd="6">
      <ion-row class="ion-justify-content-center">
        <h1>CRIAR COMBO</h1>
      </ion-row>
      <form #selectForms="ngForm" (ngSubmit)="criarSelect(selectForms.value)">
        <ion-row>
          <ion-col size="12">
            <div class="selects">
              <ng-container *ngFor="let grupos of dadoFinal">

                <ion-select ngMode [multiple]="true" (ionChange)="produtoSelecionadoSelect($event, '{{grupos[0]}}')"
                  aria-label="Variacao" label="{{grupos[0]}}" label-placement="floating" fill="outline"
                  placeholder="{{grupos[0]}}">
                  <ng-container *ngFor="let categorias of grupos[1]">
                    <ion-select-option name="{{grupos[0]}}-{{categorias[0]}}" ngModel value="{{grupos[0]}}-{{categorias[0]}}">{{ categorias[0] }}</ion-select-option>
                  </ng-container>
                </ion-select>
              </ng-container>
            </div>
          </ion-col>
          <ion-button type="submit">Teste</ion-button>

        </ion-row>
      </form>
      <form action="">
        <ion-row>
          <ion-col size="12">
            <ng-container *ngFor="let grupos of dadoFinal">
              <ng-container *ngFor="let categorias of grupos[1]">
                <div class="inputs"
                  *ngIf="produtoSelecionado && produtoSelecionado.includes(grupos[0] + '-' + categorias[0])">
                  <ion-row>
                    <ion-col size="12">
                      <ion-label class="variacao">
                        {{categorias[0]}}
                      </ion-label>
                    </ion-col>
                    <ion-col size="12">
                      <ion-radio-group value="custom-checked">
                        <ion-radio mode="md" *ngFor="let categoria of categorias[1]" value="{{categoria.nome}}"
                          labelPlacement="end" justify="start" aria-label="Custom checkbox">
                          {{categoria.nome}}
                        </ion-radio>
                      </ion-radio-group>
                    </ion-col>
                  </ion-row>
                </div>
              </ng-container>
            </ng-container>


            <ion-row>
            </ion-row>
            <ion-row>
              <ion-input mode="md" label="Nome" label-placement="floating" fill="outline"
                placeholder="Digite o nome"></ion-input>
            </ion-row>
            <ion-row>
              <ion-input mode="md" type="number" label="Valor do desconto" label-placement="floating" fill="outline"
                placeholder="Digite o Valor do desconto"></ion-input>
            </ion-row>
            <ion-row>
              <ion-textarea mode="md" label="Descrição" label-placement="floating" fill="outline"
                placeholder="Insira uma descrição"></ion-textarea>
            </ion-row>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size=6>
            <ion-button size="large" type="submit" [routerLink]="['/produtos']" expand="block">Voltar</ion-button>
          </ion-col>
          <ion-col size=6>
            <ion-button size="large" type="submit" expand="block">Criar</ion-button>
          </ion-col>
        </ion-row>

      </form>
    </ion-col>
  </ion-row>
</ion-content>