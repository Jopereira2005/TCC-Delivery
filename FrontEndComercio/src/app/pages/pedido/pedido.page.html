<ion-content [fullscreen]="true">
  <app-header></app-header>

  <ion-row class="ion-padding ion-justify-content-center ion-align-items-center">
    <ion-col size="11.9">
      <ion-row class="pedido" class="ion-justify-content-between ion-align-items-center">
        <ion-col size="12" sizeMd="auto">
          <ion-icon [routerLink]="['/pedidos']" name="arrow-back-outline"></ion-icon>
        </ion-col>
        <ion-col size="12" sizeMd="auto">
          <ion-row class="ion-justify-between ion-align-items-center">
            <ion-label>Pedido #{{this.id_pedido}}</ion-label>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>

  <ion-row class="ion-padding ion-justify-content-center">
    <ion-col size="12" sizeLg="6">
      <table>
        <tr>
          <th>Itens</th>
          <th>Quantidades</th>
        </tr>
        <ng-container *ngIf="!this.loading">
          <ng-container *ngFor="let produto of infoTabela">
            <tr  [routerLink]="['/pedido']" routerDirection="back">
              <ng-container *ngIf="produto[1].length > 0">
                <td>
                  <ion-row class="ion-align-items-center">
                  <!-- <ion-col size="3">
                    <img src="../../../assets/imgs/default/cards-produtos.png" alt="">
                  </ion-col> -->
                  <ion-col>
                    <ion-row>
                      {{produto[0]}}
                    </ion-row>
                  </ion-col>
                </ion-row>
              </td>
              <td>
                {{produto[1].length}}
              </td>
            </ng-container>
            </tr>

          </ng-container>


          <!-- <tr *ngFor="let produto of produtos" [routerLink]="['/pedido']" routerDirection="back">
            <td>
              <ion-row class="ion-align-items-center">
                <ion-col size="3">
                  <img src="{{produto.produto.imagem}}" alt="{{produto.produto.nome}}">
                </ion-col>
                <ion-col>
                  <ion-row>
                    Marmitas
                  </ion-row>
                </ion-col>
              </ion-row>
            </td>
            <td>{{this.marmitas.length}}</td>
          </tr> -->


        </ng-container>
        <ng-container *ngIf="this.loading">
          <tr>
            <td colspan="2">
              <app-loading [loading]="this.loading"></app-loading>
            </td>
          </tr>
        </ng-container>
      </table>
      <ion-row class="ion-justify-content-center ion-margin">
        <ion-col size="12" sizeMd="6">
          <ion-button size="large" expand="block" id="open-modal-pedido">Ver produtos</ion-button>
        </ion-col>
        <ion-col size="12" sizeMd="6">
          <ion-button size="large" expand="block">Finalizar</ion-button>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col size="11.9" sizeMd="10" sizeLg="5">
      <ion-row class="ion-justify-content-center">
        <ion-col size="12" sizeMd="6" class="informacoes ion-padding">
          <ng-container *ngIf="!this.loading">
            <ion-row>
              <ion-text>
                <p>Cliente: {{this.cliente!.nome}}</p>
              </ion-text>
            </ion-row>
            <ion-row>
              <ion-text>
                <p>CEP: {{this.pedidoCliente!.endereco_pedido}}</p>
              </ion-text>
            </ion-row>
            <ion-row>
              <ion-text>
                <p>Pagamento: {{this.pedidoCliente!.forma_pagamento}}</p>
              </ion-text>
            </ion-row>
            <ion-row>
              <ion-text>
                <p>Status: {{this.pedidoCliente!.status}}</p>
              </ion-text>
            </ion-row>
          </ng-container>
          <app-loading [loading]="this.loading" color="light"></app-loading>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>

  <app-modal-pedido [pedido]="this.infoTabela"></app-modal-pedido>
</ion-content>